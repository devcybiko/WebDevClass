<script>
function random(min, max) {
        return Math.floor(Math.random() * (max - min +1)) + min;
}
let secret=random(0, 65535);

function foo(n) {
	return Math.sign(secret-n);
}

function badWay() {
	console.log(`\nBAD METHOD`);
	for(var guess=0; guess<65536; guess++) {
		if (foo(guess) === 0) {
			console.log(`I GUESSED IT (${guess}) in ${guess+1} guesses!`);
			return;
		}
	}
	console.error(`I never figured it out :( - ${secret}`);
}

function fastWay() {
	let high=65535;
	let low = 0;

	console.log(`\nFAST METHOD`);
	let guesses = 0;
	while(true) {
		guesses++;
		let guess = Math.floor((high+low)/2);
		console.log(`guess#: ${guesses} guess=${guess}`);

		let diff = foo(guess);
		if (diff === -1) {
			// too low
			high = guess;
		} else if (diff === 1) {
			//too high
			low = guess;
		} else {
			console.log(`I GUESSED IT (${guess}) in ${guesses} guesses!`);
			return;
		}
	}
}

badWay();
fastWay();
</script>